@import "tailwindcss";

/* ========== COMIC BOOK DESIGN SYSTEM ========== */

:root {
  --bg: #1a1a2e;
  --fg: #FFFEF0;
  --card: #16213e;
  --border: #000000;
  --accent: #FFD700;
  --danger: #E23636;
  --success: #22c55e;
  --muted: #a0a0b0;

  /* Comic palette */
  --comic-red: #E23636;
  --comic-blue: #1E90FF;
  --comic-yellow: #FFD700;
  --comic-green: #2ECC40;
  --comic-purple: #9B59B6;
  --comic-orange: #FF6B35;
  --comic-paper: #FFFEF0;
  --comic-dark: #1a1a2e;
  --comic-panel: #16213e;
  --comic-ink: #000000;

  /* Borders */
  --panel-border: 3px solid #000;
  --panel-border-thick: 4px solid #000;
  --panel-border-accent: 3px solid var(--comic-yellow);
}

/* ========== BASE ========== */

body {
  background: var(--bg);
  color: var(--fg);
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  -webkit-tap-highlight-color: transparent;
  position: relative;
}

/* Halftone dot overlay on body */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image: radial-gradient(circle, rgba(255,255,255,0.03) 1px, transparent 1px);
  background-size: 12px 12px;
  pointer-events: none;
  z-index: 0;
}

/* ========== COMIC PANELS ========== */

.comic-panel {
  background: var(--comic-panel);
  border: var(--panel-border-thick);
  position: relative;
  overflow: hidden;
  box-shadow: 6px 6px 0 rgba(0,0,0,0.5);
}

.comic-panel::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: radial-gradient(circle, rgba(255,255,255,0.02) 1px, transparent 1px);
  background-size: 8px 8px;
  pointer-events: none;
}

.comic-panel-accent {
  background: var(--comic-panel);
  border: var(--panel-border-accent);
  position: relative;
  overflow: hidden;
  box-shadow: 6px 6px 0 rgba(0,0,0,0.5);
}

.comic-panel-danger {
  background: var(--comic-panel);
  border: 3px solid var(--comic-red);
  position: relative;
  overflow: hidden;
  box-shadow: 6px 6px 0 rgba(0,0,0,0.5);
}

/* Skewed panel effect */
.comic-skew {
  transform: skewY(-1deg);
}
.comic-skew > * {
  transform: skewY(1deg);
}

/* ========== SPEECH BUBBLES ========== */

.speech-bubble {
  position: relative;
  background: var(--comic-paper);
  color: #1a1a2e;
  border: 3px solid #000;
  border-radius: 20px;
  padding: 12px 16px;
  font-weight: 600;
}
.speech-bubble::after {
  content: '';
  position: absolute;
  bottom: -16px;
  left: 24px;
  width: 0;
  height: 0;
  border-left: 12px solid transparent;
  border-right: 12px solid transparent;
  border-top: 16px solid #000;
}
.speech-bubble::before {
  content: '';
  position: absolute;
  bottom: -12px;
  left: 26px;
  width: 0;
  height: 0;
  border-left: 10px solid transparent;
  border-right: 10px solid transparent;
  border-top: 14px solid var(--comic-paper);
  z-index: 1;
}

/* ========== SOUND EFFECTS ========== */

.sfx {
  font-family: 'Impact', 'Arial Black', sans-serif;
  font-weight: 900;
  font-style: italic;
  text-transform: uppercase;
  letter-spacing: 2px;
  -webkit-text-stroke: 2px #000;
  paint-order: stroke fill;
  text-shadow:
    3px 3px 0 #000,
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000;
  transform: rotate(-3deg) scale(1.05);
  display: inline-block;
}

.sfx-red { color: var(--comic-red); }
.sfx-yellow { color: var(--comic-yellow); }
.sfx-blue { color: var(--comic-blue); }

/* ========== BURST / EXPLOSION SHAPE ========== */

.burst {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  position: relative;
  z-index: 1;
}
.burst::before {
  content: '';
  position: absolute;
  inset: -8px;
  background: var(--comic-yellow);
  clip-path: polygon(
    50% 0%, 61% 15%, 78% 2%, 72% 22%, 95% 20%,
    80% 35%, 100% 50%, 80% 60%, 95% 78%,
    72% 72%, 78% 95%, 61% 80%, 50% 100%,
    39% 80%, 22% 95%, 28% 72%, 5% 78%,
    20% 60%, 0% 50%, 20% 35%, 5% 20%,
    28% 22%, 22% 2%, 39% 15%
  );
  z-index: -1;
}

/* ========== ACTION LINES ========== */

@keyframes action-lines {
  0% { opacity: 0.3; transform: scale(0.95); }
  50% { opacity: 0.6; transform: scale(1.02); }
  100% { opacity: 0.3; transform: scale(0.95); }
}

.action-lines {
  position: relative;
  overflow: hidden;
}
.action-lines::before {
  content: '';
  position: absolute;
  inset: -50%;
  background: repeating-conic-gradient(
    transparent 0deg,
    transparent 4deg,
    rgba(255,215,0,0.04) 4deg,
    rgba(255,215,0,0.04) 5deg
  );
  animation: action-lines 3s ease-in-out infinite;
  pointer-events: none;
  z-index: 0;
}

/* ========== BAR CHART (comic style) ========== */

.bar-track {
  background: #0d1117;
  border: 2px solid #000;
  border-radius: 0;
  height: 22px;
  overflow: hidden;
  position: relative;
}
.bar-fill {
  height: 100%;
  border-radius: 0;
  transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}
/* Halftone on bars */
.bar-fill::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: radial-gradient(circle, rgba(0,0,0,0.15) 1px, transparent 1px);
  background-size: 4px 4px;
}

/* ========== COMIC HEADER ========== */

.comic-header {
  background: #252540;
  border-bottom: 3px solid var(--comic-yellow);
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
  position: relative;
  overflow: hidden;
}

.comic-title {
  font-family: 'Georgia', 'Noto Serif SC', serif;
  font-weight: 900;
  letter-spacing: 2px;
  color: var(--comic-yellow);
  text-shadow: none;
}

/* ========== COMIC BADGES ========== */

.comic-badge {
  display: inline-flex;
  align-items: center;
  font-family: 'Impact', 'Arial Black', sans-serif;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  border: 2px solid #000;
  box-shadow: 2px 2px 0 #000;
  padding: 2px 10px;
}

/* ========== COMIC BUTTON ========== */

.comic-btn {
  font-family: 'Impact', 'Arial Black', sans-serif;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 2px;
  border: 3px solid #000;
  box-shadow: 4px 4px 0 #000;
  transition: all 0.15s ease;
  cursor: pointer;
  position: relative;
}
.comic-btn:hover {
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px 0 #000;
}
.comic-btn:active {
  transform: translate(2px, 2px);
  box-shadow: 2px 2px 0 #000;
}

/* ========== SUBMISSION DOT ========== */

@keyframes pulse-dot {
  0%, 100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.5); }
  50% { box-shadow: 0 0 0 8px rgba(255, 215, 0, 0); }
}
.dot-pulse {
  animation: pulse-dot 2s infinite;
}

.comic-dot {
  border: 3px solid #000;
  box-shadow: 2px 2px 0 #000;
  font-family: 'Impact', 'Arial Black', sans-serif;
  font-weight: 900;
}

/* ========== SKELETON ========== */

@keyframes shimmer {
  0% { background-position: -400px 0; }
  100% { background-position: 400px 0; }
}
.skeleton {
  background: linear-gradient(90deg, #16213e 25%, #1a2744 50%, #16213e 75%);
  background-size: 400px 100%;
  animation: shimmer 1.5s infinite ease-in-out;
  border-radius: 0;
  border: 2px solid rgba(0,0,0,0.3);
}

/* ========== ANIMATIONS ========== */

@keyframes slide-in {
  from { transform: translateY(-8px) skewX(-2deg); opacity: 0; }
  to { transform: translateY(0) skewX(0); opacity: 1; }
}
.error-toast {
  animation: slide-in 0.25s ease-out;
}

@keyframes fade-up {
  from { transform: translateY(16px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
.fade-up {
  animation: fade-up 0.35s ease-out both;
}

@keyframes slam-in {
  0% { transform: scale(1.5) rotate(-5deg); opacity: 0; }
  60% { transform: scale(0.95) rotate(1deg); opacity: 1; }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}
.slam-in {
  animation: slam-in 0.4s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
}

@keyframes comic-shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-3px) rotate(-1deg); }
  75% { transform: translateX(3px) rotate(1deg); }
}
.comic-shake {
  animation: comic-shake 0.3s ease-in-out;
}

/* Stagger children */
.stagger > * { animation: fade-up 0.3s ease-out both; }
.stagger > *:nth-child(1) { animation-delay: 0ms; }
.stagger > *:nth-child(2) { animation-delay: 80ms; }
.stagger > *:nth-child(3) { animation-delay: 160ms; }
.stagger > *:nth-child(4) { animation-delay: 240ms; }
.stagger > *:nth-child(5) { animation-delay: 320ms; }
.stagger > *:nth-child(6) { animation-delay: 400ms; }
.stagger > *:nth-child(7) { animation-delay: 480ms; }

/* Card hover â€” comic style */
.card-hover {
  transition: transform 0.2s, box-shadow 0.2s;
}
.card-hover:hover {
  transform: translate(-2px, -2px);
  box-shadow: 8px 8px 0 rgba(0,0,0,0.5);
}

/* ========== SCROLLBAR ========== */

::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb {
  background: #333;
  border: 2px solid #000;
}

/* ========== REDUCED MOTION ========== */

@media (prefers-reduced-motion: reduce) {
  .skeleton { animation: none; }
  .dot-pulse { animation: none; }
  .error-toast { animation: none; }
  .fade-up { animation: none; }
  .slam-in { animation: none; }
  .comic-shake { animation: none; }
  .stagger > * { animation: none; }
  .bar-fill { transition: none; }
  .action-lines::before { animation: none; }
  .card-hover { transition: none; }
  .comic-btn { transition: none; }
}
